[{"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/index.js":"1","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/App.js":"2","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Footer.js":"3","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/VotingDummy.js":"4","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/Voting.js":"5","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/CreatePoll.js":"6","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/LandingPage.js":"7","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/PollingLink.js":"8","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/VotingResults.js":"9","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/poll.js":"10","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/voting.js":"11","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/About.js":"12","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Summary.js":"13","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Option.js":"14","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/lib/Styling.js":"15","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar/Navbar.js":"16","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar/RightNav.js":"17","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar/Burger.js":"18"},{"size":432,"mtime":1610965996661,"results":"19","hashOfConfig":"20"},{"size":1765,"mtime":1612700911682,"results":"21","hashOfConfig":"20"},{"size":245,"mtime":1612169373723,"results":"22","hashOfConfig":"20"},{"size":3762,"mtime":1612342635389,"results":"23","hashOfConfig":"20"},{"size":3958,"mtime":1612701071021,"results":"24","hashOfConfig":"20"},{"size":5398,"mtime":1612700272617,"results":"25","hashOfConfig":"20"},{"size":991,"mtime":1612349397255,"results":"26","hashOfConfig":"20"},{"size":1461,"mtime":1612700305666,"results":"27","hashOfConfig":"20"},{"size":3335,"mtime":1612703052715,"results":"28","hashOfConfig":"20"},{"size":1741,"mtime":1611871726492,"results":"29","hashOfConfig":"20"},{"size":352,"mtime":1611931436247,"results":"30","hashOfConfig":"20"},{"size":2622,"mtime":1612520375951,"results":"31","hashOfConfig":"20"},{"size":748,"mtime":1612520375949,"results":"32","hashOfConfig":"20"},{"size":2097,"mtime":1612265621512,"results":"33","hashOfConfig":"20"},{"size":8209,"mtime":1612703079440,"results":"34","hashOfConfig":"20"},{"size":1585,"mtime":1612701327879,"results":"35","hashOfConfig":"20"},{"size":986,"mtime":1612700462389,"results":"36","hashOfConfig":"20"},{"size":1205,"mtime":1612698744010,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"hj2o9b",{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49","usedDeprecatedRules":"40"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/index.js",[],["77","78"],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/App.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Footer.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/VotingDummy.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/Voting.js",["79","80"],"import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\n\nimport { TextField } from '@material-ui/core'\nimport { \n  VotingContainer, \n  VotingForm, \n  NavigationButton, \n  NavigationInput,\n  // VotingButton,\n  YourName,\n  Select,\n  LinkBorderContainer,\n  SummaryFormLabel, \n  ButtonContainer,\n  VotingTextContainer} from '../lib/Styling'\n\n\nexport const Voting= () => {\n  const history = useHistory()\n  const { id } = useParams()\n  const [ pollDetails, setPollDetails ] = useState({})\n  // const [ name, setName ] = useState('')\n  const [ state, setState ] = useState({ voting: [] })\n\n  // const POLLDETAILS_URL = `https://systemic-poll-app.herokuapp.com/poll/${id}`\n  // const FINISHED_POLL_URL = `https://systemic-poll-app.herokuapp.com/finishedpoll`\n  const POLLDETAILS_URL = `http://localhost:9000/poll/${id}`\n  const FINISHED_POLL_URL = `http://localhost:9000/finishedpoll`\n  const points = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n\n  const storePollId = () => {\n    setState({\n      ...state,\n      pollId: id\n    })\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    \n    fetch(FINISHED_POLL_URL, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json'},\n      body: JSON.stringify(state)\n    })\n    .then((res) => res.json())\n    .then((json) => {\n      history.push(`/voting/${id}/results`)\n    })\n    console.log(state)\n  }\n\n  const handleSelect = (event) => {\n    setState({\n      ...state,\n      ...state.voting.push({\n        optionId: event.target.name,\n        objectionsPoints: event.target.value\n      })\n    })\n  }\n\n  const handleNameInput = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  useEffect(() => {\n    fetch(POLLDETAILS_URL)\n    .then(res => res.json())\n    .then((json) => {\n      setPollDetails(json)\n      storePollId()\n    })\n  }, [POLLDETAILS_URL])\n\n  console.log('current poll id', id)\n  console.log(\"polldetails\", pollDetails)\n\n  return (\n    <VotingContainer>\n      <LinkBorderContainer>\n        <h1>{pollDetails.pollTopic}</h1>\n        <VotingTextContainer>\n          <p>\n            <i><b>This is how you vote:</b></i>\n          </p>\n          <ul>\n            <p>\n              <li>You will vote for every option in the list. \"0\" means absolutely no resistance — \"I have no objection, I support this proposal strongly.\"</li>\n            </p>\n            <p>\n              <li>\"10\" means maximum resistance — \"I have huge objections, I refuse this proposal heavily.\"</li>\n            </p>\n          </ul>\n        </VotingTextContainer>\n        <a href=\"http://localhost:3000/systemicconsensing\" >Read more about the principle behind Systemic consensing.</a>\n        <VotingForm onSubmit={handleSubmit}>\n          {pollDetails.pollOptions?.map((item) => (\n            <SummaryFormLabel>{item.text}\n              <Select \n                onChange={handleSelect} \n                name={item._id}\n              >\n                {points.map((point) => (\n                  <option value={point}>{point}</option>\n                ))}\n              </Select>\n            </SummaryFormLabel>\n          ))}\n          <YourName>\n            <p>Your name:</p>\n            <TextField\n              variant='filled'\n              color='primary'\n              style={{ margin: 10, maxWidth: 300 }}\n              type='text'\n              name='name'\n              value={state.example}\n              onChange={handleNameInput} \n              placeholder='Enter your name ...'\n              required>\n            </TextField>\n          </YourName>\n          <ButtonContainer>\n            <NavigationInput type='submit' value='Submit your answer and see results'/>\n            <NavigationButton>Only see results</NavigationButton>\n          </ButtonContainer>\n        </VotingForm>\n        \n      </LinkBorderContainer>\n    </VotingContainer>\n  )\n}","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/CreatePoll.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/LandingPage.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/PollingLink.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/VotingResults.js",["81"],"import React, { useEffect, useState} from 'react'\nimport { useParams } from 'react-router-dom'\n\n// import { VotingDummy } from '../components/VotingDummy'\nimport { \n  LinkBorderContainer, \n  EachResult,\n  ResultContainer\n } from '../lib/Styling'\n\nexport const VotingResults= () => {\n  const { id } = useParams()\n  // const FINISHED_POLLS_URL = `https://systemic-poll-app.herokuapp.com/finishedpoll/${id}`\n  // const POLLDETAILS_URL = `https://systemic-poll-app.herokuapp.com/poll/${id}`\n  const FINISHED_POLLS_URL = `http://localhost:9000/finishedpoll/${id}`\n  const POLLDETAILS_URL = `http://localhost:9000/poll/${id}`\n  const [finishedPolls, setFinishedPolls] = useState([])\n  const [pollDetails, setPollDetails] = useState ({})\n\n  useEffect(() => {\n    fetch(FINISHED_POLLS_URL)\n    .then(res => res.json())\n    .then((json) => {\n      setFinishedPolls(json.finishedPolls)\n      console.log(finishedPolls)\n    })\n    fetch(POLLDETAILS_URL)\n    .then(res => res.json())\n    .then((json) => {\n      setPollDetails(json)\n      console.log(pollDetails)\n    })\n\n  }, [FINISHED_POLLS_URL, POLLDETAILS_URL])\n\n  console.log(finishedPolls)\n  console.log(pollDetails)\n  \n  // // First step: build prel to look like this\n  //   // {\n  //   //   456: [2,5,8],\n  //   //   789: [8,5,1],\n  //   //   523: [7,3,2]\n  //   // }\n\n    const prel = {}\n    for (let i = 0; i < finishedPolls.length; i++) {\n      console.log('loop running', i)\n      finishedPolls[i].voting.forEach(obj => {\n        const {optionId, objectionsPoints} = obj\n        if (prel[optionId]) {\n          prel[optionId].push(objectionsPoints)\n       } else {\n          prel[optionId] = [objectionsPoints]\n       }\n      })\n    };\n    \n    console.log(prel)\n  \n    // console.log(prel)\n\n    // Second step: build prelAsValuesArray to look like this\n    // [ [456,[2,5,8]], [789, [8,5,1]], [523, [7,3,2]] ]\n\n    const prelAsValuesArray = Object.entries(prel)\n\n     // Third step: build result to look like this\n    // {\n    //   456: 15,\n    //   789: 14,\n    //   523: 12\n    // }\n\n    const result = {}\n    prelAsValuesArray.map(item => {\n     return result[item[0]] = item[1].reduce((a,b) => a + b)\n    })\n    console.log(result)\n\n    // Fourth step: Build resultEntries to look like this\n    // [[456,12], [789,14], [523,12]]\n\n    const resultEntries = Object.entries(result)\n    console.log(resultEntries)\n\n    // In the return statement, map through all the options in the original poll.\n    // At the same time, map through the item in resultEntries.\n    // If you find a matching option / result-entry, display the option text and the second part (the points) of the result entry.\n\n  return (\n    <ResultContainer>\n    <LinkBorderContainer>\n        <EachResult>\n          <p><b>OPTIONS</b></p> \n          <p><b>TOTAL</b></p>\n        </EachResult>\n        <br></br>\n        {pollDetails.pollOptions?.map((option) => {\n            return (\n              resultEntries.map((pair) => (\n                option._id === pair[0] &&\n                  <EachResult>\n                    <p>{option.text}</p> \n                    <p>{pair[1]}</p>\n                  </EachResult>\n                  \n              ))\n            )\n        })}\n    </LinkBorderContainer>  \n   </ResultContainer>\n  )\n  // return (\n  //   <>\n  //     <VotingDummy />\n  //     <p>Total</p>\n  //   </>\n  // )\n}","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/poll.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/voting.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/About.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Summary.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Option.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/lib/Styling.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar/Navbar.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar/RightNav.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar/Burger.js",[],{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"86","severity":1,"message":"87","line":3,"column":10,"nodeType":"88","messageId":"89","endLine":3,"endColumn":21},{"ruleId":"90","severity":1,"message":"91","line":80,"column":6,"nodeType":"92","endLine":80,"endColumn":23,"suggestions":"93"},{"ruleId":"90","severity":1,"message":"94","line":34,"column":6,"nodeType":"92","endLine":34,"endColumn":43,"suggestions":"95"},"no-native-reassign",["96"],"no-negated-in-lhs",["97"],"no-unused-vars","'useDispatch' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'storePollId'. Either include it or remove the dependency array.","ArrayExpression",["98"],"React Hook useEffect has missing dependencies: 'finishedPolls' and 'pollDetails'. Either include them or remove the dependency array.",["99"],"no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},"Update the dependencies array to be: [POLLDETAILS_URL, storePollId]",{"range":"104","text":"105"},"Update the dependencies array to be: [FINISHED_POLLS_URL, POLLDETAILS_URL, finishedPolls, pollDetails]",{"range":"106","text":"107"},[1947,1964],"[POLLDETAILS_URL, storePollId]",[1065,1102],"[FINISHED_POLLS_URL, POLLDETAILS_URL, finishedPolls, pollDetails]"]