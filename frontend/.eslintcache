[{"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/index.js":"1","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/App.js":"2","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Footer.js":"3","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar.js":"4","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/VotingDummy.js":"5","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/Voting.js":"6","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/CreatePoll.js":"7","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/LandingPage.js":"8","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/PollingLink.js":"9","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/VotingResults.js":"10","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/poll.js":"11","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/voting.js":"12","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/About.js":"13","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Summary.js":"14","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Option.js":"15","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/lib/Styling.js":"16"},{"size":432,"mtime":1610965996661,"results":"17","hashOfConfig":"18"},{"size":1745,"mtime":1612528221697,"results":"19","hashOfConfig":"18"},{"size":245,"mtime":1612169373723,"results":"20","hashOfConfig":"18"},{"size":878,"mtime":1612272258758,"results":"21","hashOfConfig":"18"},{"size":3762,"mtime":1612342635389,"results":"22","hashOfConfig":"18"},{"size":3933,"mtime":1612601286301,"results":"23","hashOfConfig":"18"},{"size":5398,"mtime":1612602436316,"results":"24","hashOfConfig":"18"},{"size":991,"mtime":1612349397255,"results":"25","hashOfConfig":"18"},{"size":1461,"mtime":1612527712618,"results":"26","hashOfConfig":"18"},{"size":3088,"mtime":1612527728198,"results":"27","hashOfConfig":"18"},{"size":1741,"mtime":1611871726492,"results":"28","hashOfConfig":"18"},{"size":352,"mtime":1611931436247,"results":"29","hashOfConfig":"18"},{"size":2622,"mtime":1612520375951,"results":"30","hashOfConfig":"18"},{"size":748,"mtime":1612520375949,"results":"31","hashOfConfig":"18"},{"size":2097,"mtime":1612265621512,"results":"32","hashOfConfig":"18"},{"size":7804,"mtime":1612602204977,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"hj2o9b",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/index.js",[],["68","69"],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/App.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Footer.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Navbar.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/VotingDummy.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/Voting.js",["70","71"],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/CreatePoll.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/LandingPage.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/PollingLink.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/VotingResults.js",["72","73"],"import React, { useEffect, useState} from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { VotingDummy } from '../components/VotingDummy'\nimport { LinkBorderContainer } from '../lib/Styling'\n\nexport const VotingResults= () => {\n  const { id } = useParams()\n  const FINISHED_POLLS_URL = `https://systemic-poll-app.herokuapp.com/finishedpoll/${id}`\n  const POLLDETAILS_URL = `https://systemic-poll-app.herokuapp.com/poll/${id}`\n  // const FINISHED_POLLS_URL = `http://localhost:9000/finishedpoll/${id}`\n  // const POLLDETAILS_URL = `http://localhost:9000/poll/${id}`\n  const [finishedPolls, setFinishedPolls] = useState([])\n  const [pollDetails, setPollDetails] = useState ({})\n\n  useEffect(() => {\n    fetch(FINISHED_POLLS_URL)\n    .then(res => res.json())\n    .then((json) => {\n      setFinishedPolls(json.finishedPolls)\n      console.log(finishedPolls)\n    })\n    fetch(POLLDETAILS_URL)\n    .then(res => res.json())\n    .then((json) => {\n      setPollDetails(json)\n      console.log(pollDetails)\n    })\n\n  }, [FINISHED_POLLS_URL, POLLDETAILS_URL])\n\n  console.log(finishedPolls)\n  console.log(pollDetails)\n  \n  // // First step: build prel to look like this\n  //   // {\n  //   //   456: [2,5,8],\n  //   //   789: [8,5,1],\n  //   //   523: [7,3,2]\n  //   // }\n\n    const prel = {}\n    for (let i = 0; i < finishedPolls.length; i++) {\n      console.log('loop running', i)\n      finishedPolls[i].voting.forEach(obj => {\n        const {optionId, objectionsPoints} = obj\n        if (prel[optionId]) {\n          prel[optionId].push(objectionsPoints)\n       } else {\n          prel[optionId] = [objectionsPoints]\n       }\n      })\n    };\n    \n    console.log(prel)\n  \n    // console.log(prel)\n\n    // Second step: build prelAsValuesArray to look like this\n    // [ [456,[2,5,8]], [789, [8,5,1]], [523, [7,3,2]] ]\n\n    const prelAsValuesArray = Object.entries(prel)\n\n     // Third step: build result to look like this\n    // {\n    //   456: 15,\n    //   789: 14,\n    //   523: 12\n    // }\n\n    const result = {}\n    prelAsValuesArray.map(item => {\n     return result[item[0]] = item[1].reduce((a,b) => a + b)\n    })\n    console.log(result)\n\n    // Fourth step: Build resultEntries to look like this\n    // [[456,12], [789,14], [523,12]]\n\n    const resultEntries = Object.entries(result)\n    console.log(resultEntries)\n\n    // In the return statement, map through all the options in the original poll.\n    // At the same time, map through the item in resultEntries.\n    // If you find a matching option / result-entry, display the option text and the second part (the points) of the result entry.\n\n  return (\n    <LinkBorderContainer>\n      {pollDetails.pollOptions?.map((option) => {\n          return (\n            resultEntries.map((pair) => (\n              option._id === pair[0] &&\n                <div>\n                  <p>{option.text}</p> \n                  <p>{pair[1]}</p>\n                </div>\n                \n            ))\n          )\n        })}\n    </LinkBorderContainer>\n  )\n  // return (\n  //   <>\n  //     <VotingDummy />\n  //     <p>Total</p>\n  //   </>\n  // )\n}","/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/poll.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/reducer/voting.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/pages/About.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Summary.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/components/Option.js",[],"/Users/karanmann/Desktop/Technigo/polling-fullstack/frontend/src/lib/Styling.js",[],{"ruleId":"74","replacedBy":"75"},{"ruleId":"76","replacedBy":"77"},{"ruleId":"78","severity":1,"message":"79","line":3,"column":10,"nodeType":"80","messageId":"81","endLine":3,"endColumn":21},{"ruleId":"82","severity":1,"message":"83","line":79,"column":6,"nodeType":"84","endLine":79,"endColumn":23,"suggestions":"85"},{"ruleId":"78","severity":1,"message":"86","line":4,"column":10,"nodeType":"80","messageId":"81","endLine":4,"endColumn":21},{"ruleId":"82","severity":1,"message":"87","line":30,"column":6,"nodeType":"84","endLine":30,"endColumn":43,"suggestions":"88"},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"no-unused-vars","'useDispatch' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'storePollId'. Either include it or remove the dependency array.","ArrayExpression",["91"],"'VotingDummy' is defined but never used.","React Hook useEffect has missing dependencies: 'finishedPolls' and 'pollDetails'. Either include them or remove the dependency array.",["92"],"no-global-assign","no-unsafe-negation",{"desc":"93","fix":"94"},{"desc":"95","fix":"96"},"Update the dependencies array to be: [POLLDETAILS_URL, storePollId]",{"range":"97","text":"98"},"Update the dependencies array to be: [FINISHED_POLLS_URL, POLLDETAILS_URL, finishedPolls, pollDetails]",{"range":"99","text":"100"},[1925,1942],"[POLLDETAILS_URL, storePollId]",[1024,1061],"[FINISHED_POLLS_URL, POLLDETAILS_URL, finishedPolls, pollDetails]"]